## <center>虚函数和纯虚函数</center>

#### 1、声明

**虚函数声明**：

```C++
virtual returnType func(parameter);
```

引入虚函数的目的是为了动态绑定。

**纯虚函数声明**：

```C++
virtual returnType func(parameter)=0;
```

引入纯虚函数是为了派生接口。（使派生类仅仅是继承函数的接口）

#### 2、区别

1、虚函数可以直接使用，也可以被子类重载以后以多态的形式调用；而纯虚函数必须在子类中实现该函数才可以使用，因为纯虚函数在基类中只有声明没有定义。

#### 3、作用

1、虚函数和纯虚函数通常存在于抽象基类当中，被继承的子类重载，目的是提供一个统一的接口。

2、虚函数是C++中用于实现多态的机制，核心理念就是通过基类访问派生类定义的函数。

#### 4、注意点

1、在虚函数和纯虚函数的定义中不能有static标志符，原因：被static修饰的函数在编译时要求前期bind，然而虚函数要求动态绑定。

2、如果一个类中含有纯虚函数，那么不能直接对这个类进行实例化。纯虚函数实现的原理是什么？虚函数的原理采用vtable，类中含有纯虚函数时，其vtable不完全有一个空格。即纯虚函数在类的vtable中对应的表项被赋值为0，也就是指向一个不存在的函数。由于编译器不允许有调用一个不存在的函数的可能，所以该类不能生成一个对象。

3、基类中的需要使用虚析构函数。原因：加入没有虚析构函数时，释放一个由基类指针指向的派生类对象时，不会触发动态绑定，则只会调用基类的析构函数，不会调用派生类的。派生类中申请的空间将不会释放。



